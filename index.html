<!DOCTYPE html>
<html>
<head>
<title>Image to Color Turtle</title>
<style>
body {
  background:#111;
  color:white;
  text-align:center;
  font-family:Arial;
}
textarea {
  width:95%;
  height:300px;
  background:black;
  color:#00ffcc;
}
</style>
</head>
<body>

<h2>Image â†’ Python Turtle (Black Outline + Color Fill)</h2>
<input type="file" id="file"><br><br>
<button onclick="convert()">Convert</button>
<canvas id="c" style="display:none;"></canvas>
<textarea id="out"></textarea>

<script>
function convert(){
  const file = document.getElementById("file").files[0];
  if(!file){ alert("Upload image"); return; }

  const img = new Image();
  img.onload = function(){
    const c = document.getElementById("c");
    const ctx = c.getContext("2d");

    c.width = 80;
    c.height = 80;
    ctx.drawImage(img,0,0,80,80);

    const d = ctx.getImageData(0,0,80,80).data;

    let code = `import turtle\n\nscr=turtle.Screen()\nt=turtle.Turtle()\nt.speed(0)\nt.hideturtle()\nt.penup()\n`;

    for(let y=0;y<80;y+=3){
      for(let x=0;x<80;x+=3){
        let i=(y*80+x)*4;
        let r=d[i], g=d[i+1], b=d[i+2];
        let bright=(r+g+b)/3;

        if(bright < 240){
          code += `t.goto(${x-40},${40-y})\n`;
          code += `t.dot(4,(${r/255},${g/255},${b/255}))\n`;
        }
      }
    }

    code += "turtle.done()";
    document.getElementById("out").value=code;
  };

  img.src = URL.createObjectURL(file);
}
</script>
</body>
</html>
